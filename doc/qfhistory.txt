*qfhistory.txt*  Display the quickfix history and switch to selected list.

Author:     bfrg <http://github.com/bfrg>
Website:    https://github.com/bfrg/vim-qf-history
License:    Same terms as Vim itself (see |license|)

==============================================================================
INTRODUCTION                                                       *qfhistory*

Plugin to quickly navigate Vim's |quickfix| and |location-list| history using
a popup menu. See |quickfix-error-lists|.

==============================================================================
USAGE                                                        *qfhistory-usage*

Commands ~

:Chistory                                                          *:Chistory*
            Display the |quickfix| history in a popup window and make the
            selected list the current list, similar to |:chistory|.
            If the quickfix list is switched, the |User| autocommand
            |CHistoryCmdPost| is executed. See also examples below.

:Lhistory                                                          *:Lhistory*
            Same as |:Chistory|, but display the |location-list| history of
            the current window. This is similar to |:lhistory|.
            If the location-list is switched, the user autocommand
            |LHistoryCmdPost| is executed.

                                                    *qfhistory-popup-mappings*
Popup window mappings ~

j, <Down>   Move cursorline down one line.
k, <Up>     Move cursorline up one line.
g, <Home>   Move cursorline to the top.
G, <End>    Move cursorline to the bottom.
q           Cancel the popup menu.
[0-9]       Make the [0-9]th error list the current list. 0 always selects the
            last error list in the stack (most recent one). Note: Pressing
            [0-9] will also close the popup window.
<Enter>     Accept current selection. Makes the selected list the current
            list.

Autocommands ~

CHistoryCmdPost                                              *CHistoryCmdPost*
            |User| autocommand that is executed after switching the |quickfix|
            list through the popup menu. Example: >
                " Print quickfix info of current list in command-line
                augroup qfhistory
                  autocmd!
                  autocmd User CHistoryCmdPost echo
                      \ printf('Quickfix %d of %d (%d items): %s',
                      \   getqflist({'nr': 0}).nr,
                      \   getqflist({'nr': '$'}).nr,
                      \   getqflist({'size': 0}).size,
                      \   getqflist({'title': 0}).title
                      \ )
                augroup END
<
LHistoryCmdPost                                              *LHistoryCmdPost*
            Same as |CHistoryCmdPost| but when the |location-list| is changed.
            Example: >
                augroup qfhistory
                    autocmd!
                    autocmd User LHistoryCmdPost lwindow
                augroup END
<
==============================================================================
CONFIGURATION                                               *qfhistory-config*

g:qfhistory                                                      *g:qfhistory*

The appearance of the popup window can be configured through the |Dictionary|
variable g:qfhistory. The following keys are supported:

                                                           *qfhistory.padding*
    padding         List with numbers defining the padding inside the popup
                    window: [top, right, bottom, left]
                    Default: [1,1,1,1]

                                                            *qfhistory.border*
    border          List with numbers (0 or 1) specifying whether to draw a
                    border around the popup window.
                    Default: [1,1,1,1]

                    Note: when the top border is disabled, no window title
                    will be shown. If you want an empty border and keep the
                    window title specify a whitespace character in
                    |qfhistory.borderchars|.

                                                       *qfhistory.borderchars*
    borderchars     List with characters used for drawing the border around
                    the popup window. Set this entry to [' '] to draw an empty
                    border around the window while keeping the window title.
                    Default: ['─', '│', '─', '│', '┌', '┐', '┘', '└']

                                                   *qfhistory.borderhighlight*
    borderhighlight List of highlight group names used for drawing the border.
                    See |popup_create-arguments| for more details.
                    Default: same as popup window, see |hl-QfHistory| below.

                                                             *qfhistory.title*
    title           Set this to 0 to disable the window title.
                    Default: 1

Examples ~
>
    " Don't draw any window border and disable the window title
    let g:qfhistory = {'border': [0,0,0,0], 'title': 0}

    " Draw an empty border with window title
    let g:qfhistory = {'border': [], 'borderchars': [' ']}

    " Draw a border with round corners, no padding inside
    let g:qfhistory = {
        \ 'padding': [0,0,0,0],
        \ 'borderchars': ['─', '│', '─', '│', '╭', '╮', '╯', '╰']
        \ }

    " Draw a border with round corners, no window title, use default padding
    let g:qfhistory = {
        \ 'title': 0,
        \ 'borderchars': ['─', '│', '─', '│', '╭', '╮', '╯', '╰']
        \ }
<
==============================================================================
HIGHLIGHTING                                             *qfhistory-highlight*

The following highlighting groups are used by the plugin:
                                                                *hl-QfHistory*
QfHistory           Normal text in the popup window. This is the equivalent of
                    the |hl-Normal| highlight group in regular windows.
                    Default: |hl-Pmenu|
                                                          *hl-QfHistoryHeader*
QfHistoryHeader     Top line of the quickfix-history list.
                    Default: |hl-Title|
                                                         *hl-QfHistoryCurrent*
QfHistoryCurrent    Character marking the current error list.
                    Default: |hl-Title|
                                                           *hl-QfHistoryEmpty*
QfHistoryEmpty      Empty error lists.
                    Default: Comment (see |group-name|)

 vim:tw=78:et:ft=help:norl:
